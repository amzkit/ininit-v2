import{_ as C}from"./AuthenticatedLayout-C05kFhRR.js";import{k as n,l as B,f as u,a as c,u as D,w as y,F as b,o as p,Z as j,b as a,d as x,t as d,m as L}from"./app-DoGou6e8.js";import"./ApplicationLogo-hE68ScMq.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"mx-auto flex max-w-7xl px-6 pb-2 pt-3 sm:px-6 lg:px-8"},V={class:"w-full bg-white p-6 text-gray-900 shadow-sm sm:rounded-lg dark:bg-gray-800 dark:text-gray-100"},E={class:"mx-auto flex max-w-7xl space-x-3 px-6 pb-3 pt-1 sm:px-6 lg:px-8"},F={class:"w-4/12 bg-white p-6 text-gray-900 shadow-sm sm:rounded-lg dark:bg-gray-800 dark:text-gray-100"},O={class:"text-xl font-semibold tracking-tight text-gray-900 sm:text-3xl"},R={class:"w-4/12 bg-white p-6 text-gray-900 shadow-sm sm:rounded-lg dark:bg-gray-800 dark:text-gray-100"},S={class:"text-xl font-semibold tracking-tight text-gray-900 sm:text-3xl"},T={class:"w-4/12 bg-white p-6 text-gray-900 shadow-sm sm:rounded-lg dark:bg-gray-800 dark:text-gray-100"},U={class:""},$={class:"text-xs"},z={class:"text-xl font-semibold tracking-tight text-gray-900 sm:text-3xl"},A={class:""},Z={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},q={class:"overflow-hidden bg-white shadow-sm sm:rounded-lg dark:bg-gray-800"},G={class:"p-6 text-gray-900 dark:text-gray-100"},P={__name:"Dashboard",setup(H){const w=n({chart:{id:"vuechart-example"},xaxis:{type:"datetime"}}),v=n({}),_=n([]),h=n([]),r=n([]),i=n({}),k=()=>{axios.get("/api/admin/dashboard/inventory/delta").then(e=>{e.data.success==!0&&(v.value=e.data.inventory_delta,r.value=e.data.dates,i.value=e.data.glances,h.value=e.data.sku_list,l("bonnie"),l("sexy"),l("blooming"),l("picnic"),l("wood"),l("sum"))})},l=e=>{let t={name:e,data:v.value[e]};_.value.push(t)},g=e=>String(e).replace(/^\d+/,t=>[...t].map((o,s,m)=>(!s||(m.length-s)%3?"":",")+o).join("")),f=e=>axios.get("/api/export/inventory",{params:{},responseType:"blob"}).then(t=>{console.log(t.data);const o=window.URL.createObjectURL(new Blob([t.data])),s=document.createElement("a");s.href=o,s.setAttribute("download","delta.xlsx"),document.body.appendChild(s),s.click()}).catch(t=>{console.log("updating data error",t.response.data.errors);let o=t.response.data.errors;o[Object.keys(o)[0]]});return k(),(e,t)=>{const o=B("apexchart");return p(),u(b,null,[c(D(j),{title:"Dashboard"}),c(C,null,{header:y(()=>t[1]||(t[1]=[a("h2",{class:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200"}," Dashboard ",-1)])),default:y(()=>[a("div",N,[a("div",V,[x(" ข้อมูลการขายตั้งแต่วันที่ "+d(r.value[1])+" ถึงวันที่ "+d(r.value[r.value.length-1])+" ",1),a("button",{onClick:t[0]||(t[0]=s=>f(r.value))},"ดาวน์โหลด")])]),a("div",E,[a("div",F,[t[2]||(t[2]=a("div",{class:""},"ขายทั้งหมด",-1)),a("span",O,d(g(i.value.total_delta_sum)),1),t[3]||(t[3]=x(" ชิ้น "))]),a("div",R,[t[4]||(t[4]=a("div",{class:""},"ขายเฉลี่ย/วัน",-1)),a("span",S,d(g(i.value.avg_delta)),1),t[5]||(t[5]=x(" ชิ้น "))]),a("div",T,[a("div",U,[t[6]||(t[6]=x(" ขายสูงสุด ")),a("span",$,"(วันที่ "+d(i.value.max_delta[0])+")",1)]),a("span",z,d(g(i.value.max_delta[1])),1),t[7]||(t[7]=x(" ชิ้น "))])]),a("div",A,[a("div",Z,[a("div",q,[a("div",G,[(p(!0),u(b,null,L(h.value,(s,m)=>(p(),u("span",{key:"sku_"+m,class:"mb-1 mr-1 inline-flex items-center rounded-md bg-gray-50 px-2 py-1 text-xs font-medium text-gray-600 ring-1 ring-inset ring-gray-500/10"},d(s),1))),128))]),c(o,{width:"100%",type:"line",options:w.value,series:_.value},null,8,["options","series"])])])])]),_:1})],64)}}};export{P as default};
